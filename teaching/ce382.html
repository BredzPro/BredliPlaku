<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CE 382 Course Notes</title>
	<link rel="icon" type="image/png" href="https://bredliplaku.github.io/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<style>
    :root {
        --primary-color: #3949ab;
        --primary-dark: #1a237e;
        --secondary-color: #ffa726;
        --background-color: #f4f4f4;
        --card-background: #ffffff;
        --text-color: #333333;
        --text-light: #ffffff;
    }
    body, html {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        background: #ffffff;
        color: #333;
    }
    .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
    }
    .course-header {
        background: linear-gradient(135deg, #3949ab, #1a237e);
        color: white;
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 10px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
		-webkit-user-select: none;
		-khtml-user-select: none;
    }
    h1 {
        margin: 0 0 10px 0;
        font-weight: 700;
        font-size: 2.0em;
    }
    h2 {
        margin: 0 0 2px 0;
        font-weight: 400;
        font-size: 1.0em;
    }
    .course-info {
        display: flex;
        justify-content: left;
        flex-wrap: wrap;
        margin-top: 15px;
        margin-bottom: 5px;
        gap: 10px;
    }
    .info-item {
        background-color: rgba(255,255,255,0.1);
        padding: 10px 15px;
        border-radius: 10px;
        font-size: 0.9em;
    }
    .week-counter {
        padding: 10px 0px;
        border-radius: 10px;
        margin: 5px;
        font-size: 0.9em;
        display: inline-block;
    }
    .progress-bar {
        background-color: rgb(251, 251, 251);
        height: 10px;
        border-radius: 5px;
        margin: 5px;
        overflow: hidden;
    }
    .progress {
        width: 60%;
        height: 100%;
        background-color: #4caf50;
        transition: width 0.5s ease-in-out;
    }
    .module {
        background-color: #fff;
        border-radius: 20px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .module:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .module-header {
        background-color: #3949ab;
        color: white;
        padding: 15px;
        font-weight: 500;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
		-webkit-user-select: none;
		-khtml-user-select: none;
		flex-wrap: wrap; /* Allow items to wrap on smaller screens */
		position: relative;
    }
    .module-title {
        font-size: 1.1em;
    }
	.module-chapter {
		margin-left: auto;
		font-size: 0.9em; 
		font-weight: 800;
		display: flex; 
		align-items: center;
		text-transform: uppercase;
	}
    .module-content {
        padding: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out, padding 0.3s ease-out;
    }
    .module.active .module-content {
        padding: 15px;
        max-height: 2500px;
        transition: max-height 0.5s ease-in, padding 0.3s ease-in;
    }
    .material-item {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        padding: 5px 15px;
        border-bottom: 1px solid #e0e0e0;
		margin-top: 5px;
    }
    .material-item:last-child {
        border-bottom: none;
    }
    .material-icon {
        font-size: 1.5em;
        margin-right: 15px;
        color: #3949ab;
    }
    .material-info {
        flex-grow: 1;
        margin-bottom: 10px;
    }
    .material-title {
        font-weight: 500;
        margin-bottom: 5px;
    }
    .material-description {
        font-size: 0.9em;
        color: #666;
		-webkit-user-select: none;
		-khtml-user-select: none;
    }
    button {
        display: inline-block;
        background-color: var(--primary-color);
        color: var(--text-light);
        padding: 10px 20px;
        border-radius: 20px;
        text-decoration: none;
        font-size: 0.9em;
        transition: background-color 0.3s, transform 0.3s;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
		border: 0;
		-webkit-user-select: none;
		-khtml-user-select: none;
    }
    button:hover {
        background-color: #1a237e;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        transform: translateY(-2px);
		cursor: pointer;
    }
    .btn-green { background-color: #43a047; }
    .btn-green:hover { background-color: #2e7d32; }
    .btn-orange { background-color: #fb8c00; }
    .btn-orange:hover { background-color: #ef6c00; }
    .btn-blue { background-color: #2196F3; }
    .btn-blue:hover { background-color: #1e87db; }
	.btn-purple { background-color: #9c27b0; }
	.btn-purple:hover { background-color: #7b1fa2; }
	
    .fun-fact {
        background-color: #FFF9C4;
        border-left: 5px solid #FBC02D;
        padding: 15px;
        margin-top: 20px;
        border-radius: 5px;
        font-style: italic;
    }
    .course-schedule {
		display: flex
		margin-top: 15px;
        margin-bottom: 15px;
    }
    .course-schedule h2 {
        color: #3949ab;
        margin-top: 0;
        margin-bottom: 15px;
    }
    .schedule-container {
        display: flex;
        flex-direction: row;
        gap: 15px;
    }
    .schedule-item {
        width: 100%;
        margin-bottom: 5px;
        border-radius: 25px;
        overflow: hidden;
        box-shadow: 0 6px 12px rgba(0,0,0,0.10);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .schedule-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .schedule-item .day {
        padding: 10px;
        color: white;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .schedule-item .time-location {
        flex-grow: 1;
        padding: 10px;
        background-color: white;
    }
    .schedule-item .time {
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .schedule-item .location {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .schedule-item.lecture .day {
        background-color: #3949ab;
    }
    .schedule-item.lab .day {
        background-color: #1e87db;
    }
    .course-actions {
        padding: 5px;
        display: flex;
        justify-content: flex-start;
        flex-wrap: wrap;
        gap: 10px;
    }
    .footer {
        max-width: 1000px;
        text-align: center;
        padding: 20px 0;
        color: var(--primary-dark);
        border-radius: 20px;
        margin-left: auto;
        margin-right: auto;
		-webkit-user-select: none;
		-khtml-user-select: none;
    }
    .social-links {
        margin-bottom: 10px;
        margin-top: 10px;
    }
    .social-links a {
        color: var(--primary-dark);
        font-size: 1.0em;
        margin: 0 10px;
        transition: color 0.3s;
    }
    .social-links a:hover {
        color: var(--secondary-color);
    }

	.iframe-container {
		width: 100%;
		height: 0;
		overflow: hidden;
		opacity: 0;
		transition: opacity 0.5s ease-out, height 0.5s ease-out;
		position: relative;
		pointer-events: none;
	}

	.iframe-container.visible {
		height: 310px;
		opacity: 1;
		pointer-events: auto;
	}

    iframe {
        width: 106.4%;
        height: 1440px; /* Large enough to contain the content */
        border: none;
        position: absolute;
        top: -335px; /* Adjust this to shift the visible part of the page */
        left: -64px;
    }
	.iframe-container:not(.visible) {
		height: 0 !important;
	}
.grade-distribution-container {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
}
.grade-distribution-content {
    padding: 5px;
}
.distribution-wrapper {
    margin-top: 15px;
    position: relative;
}

.distribution-bar {
    height: 15px;
    border-radius: 50px;
    overflow: hidden;
    display: flex;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    position: relative;
}
.distribution-segment {
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: scale(1);
    transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1), width 1s ease;
}

.distribution-segment:hover {
    transform: scale(1.05);
    transition: transform 0.3s ease-in-out; /* Smooth hover effect */
}


.segment-percentage {
    color: #ffffff;
    font-weight: 700;
    font-size: 0.8em;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
	padding-left: 5px;
    padding-right: 5px;
    z-index: 1; /* Ensure it stays on top */
}
.distribution-legend {
    display: flex;
    justify-content: space-between;
    margin-top: 5px; /* Add some margin to separate the bar from the legend */
}

.legend-item {
    width: auto; /* Adjust to take only the needed space */
    text-align: center;
    font-size: 0.8em;
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 2px;
    white-space: nowrap; /* Prevents text from wrapping */
}

    /* FOR TIMETABLE */
    @media (max-width: 1000px) {
		.iframe-container.visible {
			height: 310px; /* Set the height you want to show */
		}
        iframe {
            top: -395px; /* Shift the iframe content for smaller views */
            left: -58px;
        }

    }
	@media (max-width: 500px) {
	.module-header {
	flex-direction: column; /* Stack items vertically on smaller screens */
	align-items: flex-start; /* Align text to the left */
    }
    .module-title {
        margin-bottom: 8px; /* Add space between wrapped items */
        text-align: left; /* Make sure text aligns properly */
    }
	}
	
	@media (max-width: 768px) {
	.iframe-container.visible {
		height: 260px; /* Set the height you want to show */
		padding-left: 5%;
	}
	iframe {
		top: -460px; /* Shift the iframe content for smaller screens */
		left: -53px;
	}

    .segment-percentage {
        font-size: 0.45em; /* Decrease size further for mobile */
    }

    .legend-item {
        font-size: 0.5em; /* Ensure the legend scales down too */
		font-weight: 500;
		letter-spacing: -0.5px;
		margin-bottom: 0px;
    }
	.btn-download {
		display:none;
	}
    }
</style>

<script>
		
		function toggleModule(element) {
            element.classList.toggle('active');
        }

        function calculateWeek(startDate, endDate, holidayWeeks = 0) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            const today = new Date();
            const totalWeeks = Math.ceil((end - start) / (7 * 24 * 60 * 60 * 1000));
            const currentWeek = Math.ceil((today - start) / (7 * 24 * 60 * 60 * 1000));
			const adjustedWeek = currentWeek - holidayWeeks;
            return Math.min(Math.max(adjustedWeek, 1), totalWeeks);
        }

        function updateWeekCounter() {
            const startDate = "2025-02-24"; // Replace with your course start date
            const endDate = "2025-06-14";   // Replace with your course end date
			const holidayWeeks = 0; // Subtract weeks for holidays
            const weekCounter = document.getElementById('week-counter');
            const currentWeek = calculateWeek(startDate, endDate, holidayWeeks);
            weekCounter.textContent = `Week ${currentWeek}`;
        }

        function updateProgress() {
            const startDate = new Date("2025-02-24"); // Replace with your course start date
            const endDate = new Date("2025-06-14");   // Replace with your course end date
            const today = new Date();
            const totalDuration = endDate - startDate;
            const elapsedDuration = today - startDate;
            let progressPercentage = (elapsedDuration / totalDuration) * 100;
            progressPercentage = Math.min(Math.max(progressPercentage, 0), 100);

            const progress = document.querySelector('.progress');
            progress.style.width = progressPercentage + '%';
        }

		function updateYear() {
			const yearElement = document.getElementById('currentYear');
			if (yearElement) {
				yearElement.textContent = new Date().getFullYear();
			}
		}
		
		function toggleIframe() {
			var iframeContainer = document.getElementById("iframe-container");
			var button = document.getElementById("toggle-button");

			if (iframeContainer.classList.contains('visible')) {
				iframeContainer.classList.remove('visible');
				button.innerHTML = '<i class="fas fa-calendar-alt"></i> Timetable';
				setTimeout(() => {
					iframeContainer.style.display = 'none';
				}, 500); // Match this to the transition duration
			} else {
				iframeContainer.style.display = 'block';
				// Force a reflow before adding the 'visible' class
				iframeContainer.offsetHeight;
				iframeContainer.classList.add('visible');
				button.innerHTML = '<i class="fa fa-eye-slash"></i> Hide Timetable';
			}
		}
		
const courseAssessments = [
    { name: 'Homework', subItems: [
        { name: 'Homework 1', percentage: 10 },
        { name: 'Homework 2', percentage: 0 },
        { name: 'Homework 3', percentage: 0 },
        { name: 'Homework 4', percentage: 0 }
    ]},
    { name: 'Quizzes', subItems: [
        { name: 'Quiz 1', percentage: 10 },
        { name: 'Quiz 2', percentage: 10 },
        { name: 'Quiz 3', percentage: 0 },
        { name: 'Quiz 4', percentage: 0 }
    ]},
    { name: 'Term Project', subItems: [
        { name: 'Term Project 1', percentage: 0 }
    ]},
    { name: 'Midterm', subItems: [{ name: 'Midterm', percentage: 35 }] },
    { name: 'Final', subItems: [{ name: 'Final', percentage: 35 }] }
];

const colorSchemes = {
    'Homework': ['#81c784', '#66bb6a', '#4caf50', '#43a047'],
    'Quizzes': ['#64b5f6', '#42a5f5', '#2196f3', '#1e88e5'],
    'Term Project': ['#4caf50'],
    'Midterm': ['#fbc02d'],
    'Final': ['#ff9800']
};

function toggleGradeDistribution() {
    const container = document.getElementById('gradeDistributionContainer');
    const button = document.getElementById('gradeDistributionButton');
    
    if (container.style.maxHeight) {
        container.style.maxHeight = null;
        button.innerHTML = '<i class="fas fa-chart-pie"></i> Evaluation Criteria';
    } else {
        generateGradeDistribution();
        container.style.maxHeight = container.scrollHeight + "px";
        button.innerHTML = '<i class="fa fa-eye-slash"></i> Hide Evaluation Criteria';
    }
}

function generateGradeDistribution() {
    const barContainer = document.getElementById('distribution-bar');
    const legendContainer = document.getElementById('distribution-legend');
    
    barContainer.innerHTML = '';
    legendContainer.innerHTML = '';
    
    let cumulativeWidth = 0;
    
    courseAssessments.forEach((assessment) => {
        const colors = colorSchemes[assessment.name];
        let totalPercentage = 0;
        let colorIndex = 0;
        
        assessment.subItems.forEach((subItem, index) => {
            if (subItem.percentage > 0) {
                const color = colors[colorIndex % colors.length];
                
                // Create bar segment
                const segment = document.createElement('div');
                segment.className = 'distribution-segment';
                segment.style.width = `${subItem.percentage}%`;
                segment.style.backgroundColor = color;
                
                // Add percentage inside the bar
                const percentageElement = document.createElement('div');
                percentageElement.className = 'segment-percentage';
                percentageElement.textContent = `${subItem.percentage}%`;
                segment.appendChild(percentageElement);
                
                barContainer.appendChild(segment);
                
                totalPercentage += subItem.percentage;
                colorIndex++;
            }
        });
        
        if (totalPercentage > 0) {
            // Create legend item (name below the segments)
            const legendItem = document.createElement('div');
            legendItem.className = 'legend-item';
            legendItem.style.left = `${cumulativeWidth}%`;
            legendItem.style.width = `${totalPercentage}%`;
            legendItem.textContent = assessment.name;
            
            // Set the text color to match the first color in the assessment's color scheme
            legendItem.style.color = colors[0];
            
            legendContainer.appendChild(legendItem);
            
            cumulativeWidth += totalPercentage;
        }
    });
}
		
        window.onload = function() {
            updateWeekCounter();
            updateProgress();
			updateYear();
			document.getElementById('timetable-form').submit();
        };


    </script>
</head>
<body>
    <div class="container">
		<div class="course-actions">
					<button style="margin-bottom: 10px;" onclick="window.open('https://teaching.bredliplaku.com/', '_self', 'noopener,noreferrer')"><i class="fas fa-chevron-left"></i> All Courses</button>
					<button style="margin-bottom: 10px;" onclick="window.open('https://eis.epoka.edu.al/', '_blank', 'noopener,noreferrer')" class="btn"><i class="far fa-user-circle"></i> EIS</button>
			</div>
        <div class="course-header">
            <h2>CE 382</h2>
			<h1>Foundation Engineering</h1>
            <div class="course-info">
                <span class="info-item"><i class="fas fa-user-circle"></i> Mr. Bredli Plaku</span>
                <span class="info-item"><i class="fas fa-calendar-check"></i> Spring Semester</span>
				<span class="info-item"><i class="fas fa-graduation-cap"></i> Undergraduate</span>
				<span class="info-item"><i class="fas fa-exclamation-circle"></i> Compulsory</span>
				<span class="info-item"><i class="fas fa-trophy"></i> 5 ECTS</span>
				<span class="info-item"><i class="fas fa-calendar"></i> 16 weeks</span>
            </div>
            <span class="info-item"><i class="far fa-clock fa-spin"></i><div class="week-counter" id="week-counter"></div></span>
            
			<div class="progress-bar">
                <div class="progress"></div>
            </div>
			<div id="gradeDistributionContainer" class="grade-distribution-container">
    <div class="grade-distribution-content">
        <div class="distribution-wrapper">
			<div id="distribution-legend" class="distribution-legend"></div>
            <div id="distribution-bar" class="distribution-bar"></div>
        </div>
    </div>
</div>
        </div>
		
		<div class="course-actions">
			<button onclick="window.open('https://chat.google.com/room/AAAAgxQwISU?cls=7', '_blank', 'noopener,noreferrer')" class="btn-orange"><i class="fas fa-bullhorn"></i> Announcements</button>
			<button id="toggle-button" onclick="toggleIframe()"><i class="fas fa-calendar-alt"></i> Timetable</button>
			<button class="btn-green" id="gradeDistributionButton" onclick="toggleGradeDistribution()"><i class="fas fa-chart-pie"></i> Evaluation Criteria</button>
		</div>	
	
	<div class="course-schedule">
        <!-- Form that will be submitted via the buttons -->
        <form id="timetable-form" action="https://eis.epoka.edu.al/publictimetable" method="POST" target="timetable-iframe">
            <input type="hidden" name="form[timetable]" value="161">
            <input type="hidden" id="class-select" name="form[programGrade]" value="27">
            <input type="hidden" name="form[_token]" value="your_csrf_token_here">
        </form>

        <!-- Iframe to load the timetable -->
<div class="iframe-container" id="iframe-container">    
    <iframe id="timetable-iframe" name="timetable-iframe"></iframe>
</div>
	<!-- </div> -->
	</div>
	
	
        <div class="module active"> <!--Module 1-->
            <div class="module-header" onclick="toggleModule(this.parentNode)">
                <span class="module-title"><i class="far fa-smile"></i>&nbsp;&nbsp;Welcome</span>
				<span class="module-chapter">Module 1&nbsp;&nbsp;<i class="fas fa-chevron-down"></i></span>
            </div>
            <div class="module-content">
                <div class="material-item">
                    <i class="far fa-file-powerpoint material-icon"></i>
                    <div class="material-info">
                        <div class="material-title">Introduction to Foundation Engineering</div>
                        <div class="material-description">PowerPoint Presentation</div>
                    </div>
                    <div class="course-actions">
						<button onclick="window.open('https://docs.google.com/presentation/d/11HOiKd6eEFVhwDIiV80o6pboRM75Vkds/edit?usp=sharing', '_blank', 'noopener,noreferrer')" class="btn-blue"><i class="far fa-eye"></i> View</button>
						<button onclick="window.open('https://docs.google.com/presentation/d/11HOiKd6eEFVhwDIiV80o6pboRM75Vkds/export/pptx', '_blank', 'noopener,noreferrer')" class="btn-download btn-green"><i class="far fa-save"></i> Download</button>
                    </div> 
                </div>
				
				<div class="material-item">
                    <i class="fas fa-book material-icon"></i>
                    <div class="material-info">
                        <div class="material-title">Lecture Notes</div>
                        <div class="material-description">Additional Literature</div>
                    </div>
                    <div class="course-actions">
						<button onclick="window.open('https://drive.google.com/file/d/1bNunQ4wgRWZD01_DDgsOS-7-zptyhteJ/view', '_blank', 'noopener,noreferrer')" class="btn-blue"><i class="far fa-eye"></i> View</button>
						<button onclick="window.open('https://drive.google.com/uc?export=download&id=1bNunQ4wgRWZD01_DDgsOS-7-zptyhteJ', '_blank', 'noopener,noreferrer')" class="btn-download btn-green"><i class="far fa-save"></i> Download</button>
                    </div>
                </div>
				
                <div class="fun-fact">
                    The literature for this course is <br><b>"Das, B. M., & Sivakugan, N. (2018). Principles of foundation engineering (9th ed.). Cengage Learning."</b>
                </div>
            </div>
        </div>

	
		<!-- <div style="position: relative; display: flex; align-items: center;"> <!-- QUIZ -->
			<!-- <div style="margin-right: 10px; position: relative; top: 50%; transform: translateY(-40%);"> -->
				<!-- <i class="fas fa-exclamation-circle" style="color: #444444; font-size: 1.4em;"></i> -->
			<!-- </div> -->
			<!-- <div class="module" style="background-color: #eeeeee; padding: 10px 15px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); width: 100%; display: flex; justify-content: space-between; align-items: center;"> -->
				<!-- <span class="module-title" style="color: #444444; font-weight: 600;">Quiz 2</span> -->
				<!-- <span class="module-chapter" style="color: #444444; font-size:1.0em">21 January 2025&nbsp;&nbsp;</span> -->
			<!-- </div> -->
		<!-- </div> -->
	
	</div>

	
	<footer class="footer">
        <div class="social-links">
            <a href="https://eis.epoka.edu.al/cv/fullcv/655" target="_blank" rel="noopener noreferrer"><i class="far fa-id-card"></i></a>
            <a href="mailto:bplaku@epoka.edu.al" target="_blank" rel="noopener noreferrer"><i class="far fa-envelope"></i></a>
        </div>
		<p style="font-size:0.7em"><i class="far fa-copyright"></i> 2023-<span id="currentYear"></span> Bredli Plaku. All Rights Reserved.</p>
	</footer>
</body>
</html>
